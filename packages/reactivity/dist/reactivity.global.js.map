{
  "version": 3,
  "sources": ["../src/index.ts", "../src/effect.ts", "../../shared/src/index.ts", "../src/reactive.ts"],
  "sourcesContent": ["export { effect } from \"./effect\";\r\nexport { reactive } from \"./reactive\";\r\n", "export function effect() {}\r\n", "export const isObject = (value) => {\r\n    return typeof value === 'object' && value !== null\r\n}", "import { isObject } from \"@vue/shared\";\r\n\r\n// \u6570\u636E\u8F6C\u6362\u6210\u54CD\u5E94\u5F0F\u6570\u636E, \u53EA\u80FD\u505A\u5BF9\u8C61\u7684\u4EE3\u7406\r\n\r\nconst reactiveMap = new WeakMap(); // key\u53EA\u80FD\u662F\u5BF9\u8C61\r\n\r\nconst enum ReactiveFlags {\r\n  IS_REACTIVE = \"__v_isReactive\",\r\n}\r\n\r\nexport function reactive(target) {\r\n  if (!isObject(target)) {\r\n    return;\r\n  }\r\n\r\n  // \u9632\u6B62\u5904\u7406\u5DF2\u7ECF\u88AB\u4EE3\u7406\u8FC7\u7684\u5BF9\u8C61\u518D\u6B21\u88AB\u4EE3\u7406\r\n  // \u5982\u679C\u4F20\u9012\u5DF2\u7ECF\u4EE3\u7406\u8FC7\u7684\u5BF9\u8C61\uFF0C\u90A3\u4E48\u8BBF\u95EEtarget.ReactiveFlags.IS_REACTIVE === proxy.ReactiveFlags.IS_REACTIVE, \u5C31\u4F1A\u89E6\u53D1proxy\u7684get\u65B9\u6CD5\u3002\u91CC\u9762\u5224\u65AD key === ReactiveFlags.IS_REACTIVE,\u76F4\u63A5\u8FD4\u56DEtrue\uFF0C\u8BF4\u660E\u4ED6\u662F\u5DF2\u7ECF\u4EE3\u7406\u8FC7\u7684\u5BF9\u8C61\u4E86\r\n  if (target[ReactiveFlags.IS_REACTIVE]) {\r\n    return target;\r\n  }\r\n\r\n  // \u9632\u6B62\u540C\u4E00\u4E2A\u6E90\u5BF9\u8C61\u4EE3\u7406\u4E24\u6B21\uFF0C\u589E\u52A0\u4E00\u5C42\u7F13\u5B58\r\n  let existingProxy = reactiveMap.get(target);\r\n  if (existingProxy) {\r\n    return existingProxy;\r\n  }\r\n\r\n  // \u5E76\u6CA1\u6709\u91CD\u65B0\u5B9A\u4E49\u5C5E\u6027\uFF0C\u53EA\u662F\u4EE3\u7406\uFF0C\u53D6\u503C\u8C03\u7528get\uFF0C\u8D4B\u503C\u8C03\u7528set\r\n\r\n  // \u7B2C\u4E00\u6B21\u666E\u901A\u5BF9\u8C61\u4EE3\u7406\uFF0C\u6211\u4EEC\u4F1A\u901A\u8FC7new Proxy\u4EE3\u7406\u4E00\u6B21\r\n  // \u4E0B\u4E00\u6B21\u4F60\u4F20\u9012\u7684\u662Fproxy\uFF0C \u6211\u4EEC\u53EF\u4EE5\u770B\u4E00\u4E0B\u4ED6\u6709\u6CA1\u6709\u88AB\u4EE3\u7406\u8FC7\uFF0C\u5982\u679C\u8BBF\u95EE\u5219\u4E2Aproxy\uFF0C \u6709get\u65B9\u6CD5\u5C31\u8BF4\u660E\u8BBF\u95EE\u8FC7\u4E86\r\n  const proxy = new Proxy(target, {\r\n    get(target, key, receiver) {\r\n      // \u9632\u6B62target\u88AB\u4E8C\u6B21\u4EE3\u7406\r\n      if (key === ReactiveFlags.IS_REACTIVE) {\r\n        return true;\r\n      }\r\n      return Reflect.get(target, key, receiver);\r\n    },\r\n    set(target, key, value, receiver) {\r\n      return Reflect.set(target, key, value, receiver);\r\n    },\r\n  });\r\n\r\n  reactiveMap.set(target, proxy);\r\n  return proxy;\r\n}\r\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;;;ACAO,oBAAkB;AAAA,EAAC;;;ACAnB,MAAM,WAAW,CAAC,UAAU;AAC/B,WAAO,OAAO,UAAU,YAAY,UAAU;AAAA,EAClD;;;ACEA,MAAM,cAAc,oBAAI,QAAQ;AAMzB,oBAAkB,QAAQ;AAC/B,QAAI,CAAC,SAAS,MAAM,GAAG;AACrB;AAAA,IACF;AAIA,QAAI,OAAO,qCAA4B;AACrC,aAAO;AAAA,IACT;AAGA,QAAI,gBAAgB,YAAY,IAAI,MAAM;AAC1C,QAAI,eAAe;AACjB,aAAO;AAAA,IACT;AAMA,UAAM,QAAQ,IAAI,MAAM,QAAQ;AAAA,MAC9B,IAAI,SAAQ,KAAK,UAAU;AAEzB,YAAI,QAAQ,oCAA2B;AACrC,iBAAO;AAAA,QACT;AACA,eAAO,QAAQ,IAAI,SAAQ,KAAK,QAAQ;AAAA,MAC1C;AAAA,MACA,IAAI,SAAQ,KAAK,OAAO,UAAU;AAChC,eAAO,QAAQ,IAAI,SAAQ,KAAK,OAAO,QAAQ;AAAA,MACjD;AAAA,IACF,CAAC;AAED,gBAAY,IAAI,QAAQ,KAAK;AAC7B,WAAO;AAAA,EACT;",
  "names": []
}
